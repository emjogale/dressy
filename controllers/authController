// all functions related to authentication
const catchAsync = require('../utils/catchAsync');
const User = require('./../models/user');

exports.register = catchAsync(async (req, res, next) => {
    const { username, email, password, passwordConfirm } = req.body
    
    const newUser = new User({
        username,email, password, passwordConfirm
    })

    const savedUser = await newUser.save()
    
    res.status(201).json({
        status: 'success',
        user: savedUser
    })
 })