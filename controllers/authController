// all functions related to authentication
const catchAsync = require('../utils/catchAsync');
const User = require('./../models/user');


exports.register = catchAsync(async (req, res, next) => {
    console.log('we are now into the register function');
    const { username, email, password, passwordConfirm } = req.body
    
    const newUser = new User({
        username: username,
        email: email,
        password: password,
        // passwordConfirm: passwordConfirm
    })
    
    const savedUser = await newUser.save()

    res.status(201).json({
        status: 'success',
        user: savedUser
    })
 })